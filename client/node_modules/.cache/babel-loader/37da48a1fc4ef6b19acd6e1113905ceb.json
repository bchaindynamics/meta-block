{"ast":null,"code":"import _regeneratorRuntime from \"/home/pranshu_ubuntu/Documents/starter-kit-gsn/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/pranshu_ubuntu/Documents/starter-kit-gsn/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/pranshu_ubuntu/Documents/starter-kit-gsn/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/pranshu_ubuntu/Documents/starter-kit-gsn/client/src/components/Web3Info/index.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { PublicAddress, Button } from 'rimble-ui';\nimport styles from './Web3Info.module.scss';\nexport default function Web3Info(props) {\n  var context = props.context;\n  var networkId = context.networkId,\n      networkName = context.networkName,\n      accounts = context.accounts,\n      providerName = context.providerName,\n      lib = context.lib;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      balance = _useState2[0],\n      setBalance = _useState2[1];\n\n  var getBalance = useCallback(\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var balance;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(accounts && accounts.length > 0)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.t1 = lib.utils;\n            _context.next = 4;\n            return lib.eth.getBalance(accounts[0]);\n\n          case 4:\n            _context.t2 = _context.sent;\n            _context.t0 = _context.t1.fromWei.call(_context.t1, _context.t2, 'ether');\n            _context.next = 9;\n            break;\n\n          case 8:\n            _context.t0 = 'Unknown';\n\n          case 9:\n            balance = _context.t0;\n            setBalance(balance);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [accounts, lib.eth, lib.utils]);\n  useEffect(function () {\n    getBalance();\n  }, [accounts, getBalance, networkId]);\n\n  var requestAuth =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(web3Context) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return web3Context.requestAuth();\n\n            case 3:\n              _context2.next = 8;\n              break;\n\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 5]]);\n    }));\n\n    return function requestAuth(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(\"div\", {\n    className: styles.web3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \" \", props.title, \" \"), React.createElement(\"div\", {\n    className: styles.dataPoint,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Network:\"), React.createElement(\"div\", {\n    className: styles.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, networkId ? \"\".concat(networkId, \" \\u2013 \").concat(networkName) : 'No connection')), React.createElement(\"div\", {\n    className: styles.dataPoint,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Your address:\"), React.createElement(\"div\", {\n    className: styles.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(PublicAddress, {\n    label: \"\",\n    address: accounts && accounts.length ? accounts[0] : 'Unknown',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: styles.dataPoint,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Your ETH balance:\"), React.createElement(\"div\", {\n    className: styles.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, balance)), React.createElement(\"div\", {\n    className: styles.dataPoint,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Provider:\"), React.createElement(\"div\", {\n    className: styles.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, providerName)), accounts && accounts.length ? React.createElement(\"div\", {\n    className: styles.dataPoint,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.label,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Accounts & Signing Status\"), React.createElement(\"div\", {\n    className: styles.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Access Granted\")) : !!networkId && providerName !== 'infura' ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: function onClick() {\n      return requestAuth(context);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Request Access\")) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/pranshu_ubuntu/Documents/starter-kit-gsn/client/src/components/Web3Info/index.js"],"names":["React","useState","useEffect","useCallback","PublicAddress","Button","styles","Web3Info","props","context","networkId","networkName","accounts","providerName","lib","balance","setBalance","getBalance","length","utils","eth","fromWei","requestAuth","web3Context","console","error","web3","title","dataPoint","label","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { PublicAddress, Button } from 'rimble-ui';\nimport styles from './Web3Info.module.scss';\n\nexport default function Web3Info(props) {\n  const { context } = props;\n  const { networkId, networkName, accounts, providerName, lib } = context;\n\n  const [balance, setBalance] = useState(0);\n\n  const getBalance = useCallback(async () => {\n    let balance =\n      accounts && accounts.length > 0 ? lib.utils.fromWei(await lib.eth.getBalance(accounts[0]), 'ether') : 'Unknown';\n    setBalance(balance);\n  }, [accounts, lib.eth, lib.utils]);\n\n  useEffect(() => {\n    getBalance();\n  }, [accounts, getBalance, networkId]);\n\n  const requestAuth = async web3Context => {\n    try {\n      await web3Context.requestAuth();\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  return (\n    <div className={styles.web3}>\n      <h3> {props.title} </h3>\n      <div className={styles.dataPoint}>\n        <div className={styles.label}>Network:</div>\n        <div className={styles.value}>{networkId ? `${networkId} â€“ ${networkName}` : 'No connection'}</div>\n      </div>\n      <div className={styles.dataPoint}>\n        <div className={styles.label}>Your address:</div>\n        <div className={styles.value}>\n          <PublicAddress label=\"\" address={accounts && accounts.length ? accounts[0] : 'Unknown'} />\n        </div>\n      </div>\n      <div className={styles.dataPoint}>\n        <div className={styles.label}>Your ETH balance:</div>\n        <div className={styles.value}>{balance}</div>\n      </div>\n      <div className={styles.dataPoint}>\n        <div className={styles.label}>Provider:</div>\n        <div className={styles.value}>{providerName}</div>\n      </div>\n      {accounts && accounts.length ? (\n        <div className={styles.dataPoint}>\n          <div className={styles.label}>Accounts & Signing Status</div>\n          <div className={styles.value}>Access Granted</div>\n        </div>\n      ) : !!networkId && providerName !== 'infura' ? (\n        <div>\n          <br />\n          <Button onClick={() => requestAuth(context)}>Request Access</Button>\n        </div>\n      ) : (\n        <div></div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}